(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const M={},Ce=(e,t)=>e===t,Ie=Symbol("solid-track"),q={equals:Ce};let Te=_e;const x=1,V=2,ge={owned:null,cleanups:null,context:null,owner:null};var h=null;let N=null,d=null,g=null,$=null,se=0;function H(e,t){const n=d,s=h,i=e.length===0,r=i?ge:{owned:null,cleanups:null,context:null,owner:t||s},l=i?e:()=>e(()=>U(()=>ie(r)));h=r,d=null;try{return G(l,!0)}finally{d=n,h=s}}function C(e,t){t=t?Object.assign({},q,t):q;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),ye(n,i));return[we.bind(n),s]}function L(e,t,n){const s=me(e,t,!1,x);Q(s)}function F(e,t,n){n=n?Object.assign({},q,n):q;const s=me(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Q(s),we.bind(s)}function Pe(e){return G(e,!1)}function U(e){let t,n=d;return d=null,t=e(),d=n,t}function pe(e){return h===null||(h.cleanups===null?h.cleanups=[e]:h.cleanups.push(e)),e}function Oe(e){const t=F(e),n=F(()=>Z(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function we(){const e=N;if(this.sources&&(this.state||e))if(this.state===x||e)Q(this);else{const t=g;g=null,G(()=>j(this),!1),g=t}if(d){const t=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(t)):(d.sources=[this],d.sourceSlots=[t]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function ye(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&G(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],l=N&&N.running;l&&N.disposed.has(r),(l&&!r.tState||!l&&!r.state)&&(r.pure?g.push(r):$.push(r),r.observers&&Se(r)),l||(r.state=x)}if(g.length>1e6)throw g=[],new Error},!1)),t}function Q(e){if(!e.fn)return;ie(e);const t=h,n=d,s=se;d=h=e,Fe(e,e.value,s),d=n,h=t}function Fe(e,t,n){let s;try{s=e.fn(t)}catch(i){e.pure&&(e.state=x),ve(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ye(e,s):e.value=s,e.updatedAt=n)}function me(e,t,n,s=x,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:h,context:null,pure:n};return h===null||h!==ge&&(h.owned?h.owned.push(r):h.owned=[r]),r}function Ae(e){const t=N;if(e.state===0||t)return;if(e.state===V||t)return j(e);if(e.suspense&&U(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<se);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===x||t)Q(e);else if(e.state===V||t){const i=g;g=null,G(()=>j(e,n[0]),!1),g=i}}function G(e,t){if(g)return e();let n=!1;t||(g=[]),$?n=!0:$=[],se++;try{const s=e();return Ge(n),s}catch(s){g||($=null),ve(s)}}function Ge(e){if(g&&(_e(g),g=null),e)return;const t=$;$=null,t.length&&G(()=>Te(t),!1)}function _e(e){for(let t=0;t<e.length;t++)Ae(e[t])}function j(e,t){const n=N;e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];i.sources&&(i.state===x||n?i!==t&&Ae(i):(i.state===V||n)&&j(i,t))}}function Se(e){const t=N;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=V,s.pure?g.push(s):$.push(s),s.observers&&Se(s))}}function ie(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),l=n.observerSlots.pop();s<i.length&&(r.sourceSlots[l]=s,i[s]=r,n.observerSlots[s]=l)}}if(e.owned){for(t=0;t<e.owned.length;t++)ie(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ke(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function ve(e){throw e=ke(e),e}function Z(e){if(typeof e=="function"&&!e.length)return Z(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Z(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}const De=Symbol("fallback");function ue(e){for(let t=0;t<e.length;t++)e[t]()}function Ke(e,t,n={}){let s=[],i=[],r=[],l=0,o=t.length>1?[]:null;return pe(()=>ue(r)),()=>{let f=e()||[],c,u;return f[Ie],U(()=>{let a=f.length,A,E,R,W,Y,_,S,b,I;if(a===0)l!==0&&(ue(r),r=[],s=[],i=[],l=0,o&&(o=[])),n.fallback&&(s=[De],i[0]=H(xe=>(r[0]=xe,n.fallback())),l=1);else if(l===0){for(i=new Array(a),u=0;u<a;u++)s[u]=f[u],i[u]=H(m);l=a}else{for(R=new Array(a),W=new Array(a),o&&(Y=new Array(a)),_=0,S=Math.min(l,a);_<S&&s[_]===f[_];_++);for(S=l-1,b=a-1;S>=_&&b>=_&&s[S]===f[b];S--,b--)R[b]=i[S],W[b]=r[S],o&&(Y[b]=o[S]);for(A=new Map,E=new Array(b+1),u=b;u>=_;u--)I=f[u],c=A.get(I),E[u]=c===void 0?-1:c,A.set(I,u);for(c=_;c<=S;c++)I=s[c],u=A.get(I),u!==void 0&&u!==-1?(R[u]=i[c],W[u]=r[c],o&&(Y[u]=o[c]),u=E[u],A.set(I,u)):r[c]();for(u=_;u<a;u++)u in R?(i[u]=R[u],r[u]=W[u],o&&(o[u]=Y[u],o[u](u))):i[u]=H(m);i=i.slice(0,l=a),s=f.slice(0)}return i});function m(a){if(r[u]=a,o){const[A,E]=C(u);return o[u]=E,t(f[u],A)}return t(f[u])}}}function p(e,t){return U(()=>e(t||{}))}function ce(e){const t="fallback"in e&&{fallback:()=>e.fallback};return F(Ke(()=>e.each,e.children,t||void 0))}function Re(e){let t=!1,n=!1;const s=Oe(()=>e.children),i=F(()=>{let r=s();Array.isArray(r)||(r=[r]);for(let l=0;l<r.length;l++){const o=r[l].when;if(o)return n=!!r[l].keyed,[l,o,r[l]]}return[-1]},void 0,{equals:(r,l)=>r[0]===l[0]&&(t?r[1]===l[1]:!r[1]==!l[1])&&r[2]===l[2]});return F(()=>{const[r,l,o]=i();if(r<0)return e.fallback;const f=o.children,c=typeof f=="function"&&f.length>0;return t=n||c,c?U(()=>f(l)):f})}function B(e){return e}function Me(e,t){return F(e,void 0,t?void 0:{equals:t})}function Ue(e,t,n){let s=n.length,i=t.length,r=s,l=0,o=0,f=t[i-1].nextSibling,c=null;for(;l<i||o<r;){if(t[l]===n[o]){l++,o++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===l){const u=r<s?o?n[o-1].nextSibling:n[r-o]:f;for(;o<r;)e.insertBefore(n[o++],u)}else if(r===o)for(;l<i;)(!c||!c.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[r-1]&&n[o]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--r],u),t[i]=n[r]}else{if(!c){c=new Map;let m=o;for(;m<r;)c.set(n[m],m++)}const u=c.get(t[l]);if(u!=null)if(o<u&&u<r){let m=l,a=1,A;for(;++m<i&&m<r&&!((A=c.get(t[m]))==null||A!==u+a);)a++;if(a>u-o){const E=t[l];for(;o<u;)e.insertBefore(n[o++],E)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}function We(e,t,n){let s;return H(i=>{s=i,t===document?e():v(t,e(),t.firstChild?null:void 0,n)}),()=>{s(),t.textContent=""}}function k(e,t,n){const s=document.createElement("template");s.innerHTML=e;let i=s.content.firstChild;return n&&(i=i.firstChild),i}function O(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ye(e,t,n={}){const s=e.style,i=typeof n=="string";if(t==null&&i||typeof t=="string")return s.cssText=t;i&&(s.cssText=void 0,n={}),t||(t={});let r,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)r=t[l],r!==n[l]&&(s.setProperty(l,r),n[l]=r);return n}function v(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return J(e,t,s,n);L(i=>J(e,t(),i,n),s)}function J(e,t,n,s,i){for(M.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(M.context)return n;if(r==="number"&&(t=t.toString()),l){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=T(e,n,s,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(M.context)return n;n=T(e,n,s)}else{if(r==="function")return L(()=>{let o=t();for(;typeof o=="function";)o=o();n=J(e,o,n,s)}),()=>n;if(Array.isArray(t)){const o=[],f=n&&Array.isArray(n);if(z(o,t,n,i))return L(()=>n=J(e,o,n,s,!0)),()=>n;if(M.context){if(!o.length)return n;for(let c=0;c<o.length;c++)if(o[c].parentNode)return n=o}if(o.length===0){if(n=T(e,n,s),l)return n}else f?n.length===0?fe(e,o,s):Ue(e,n,o):(n&&T(e),fe(e,o));n=o}else if(t instanceof Node){if(M.context&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=T(e,n,s,t);T(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function z(e,t,n,s){let i=!1;for(let r=0,l=t.length;r<l;r++){let o=t[r],f=n&&n[r];if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))i=z(e,o,f)||i;else if(typeof o=="function")if(s){for(;typeof o=="function";)o=o();i=z(e,Array.isArray(o)?o:[o],f)||i}else e.push(o),i=!0;else{const c=String(o);f&&f.nodeType===3&&f.data===c?e.push(f):e.push(document.createTextNode(c))}}return i}function fe(e,t,n){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function T(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(i!==o){const f=o.parentNode===e;!r&&!l?f?e.replaceChild(i,o):e.insertBefore(i,n):f&&o.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}const Be="_App_1uat9_1",He="_header_1uat9_10",qe="_main_1uat9_15",X={App:Be,header:He,main:qe},Ve=16,[D,Et]=C(Ve),je=100,[Je,Nt]=C(je);var w=(e=>(e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e))(w||{}),y=(e=>(e.IDLE="idle",e.PLAYING="playing",e.LOOSE="loose",e.WIN="win",e))(y||{});const Qe=([e,t],n)=>{switch(n){case w.UP:return[e,t-1];case w.DOWN:return[e,t+1];case w.RIGHT:return[e+1,t];case w.LEFT:return[e-1,t]}},de=[w.UP,w.DOWN],ae=[w.RIGHT,w.LEFT],Xe=(e,t)=>ae.includes(e)&&ae.includes(t)||de.includes(e)&&de.includes(t)?e:t,re=([e,t],[n,s])=>e===n&&t===s,oe=(e,t)=>e.some(n=>re(n,t)),Ze=(e,[t,n])=>t>=e||t<0||n>=e||n<0,he=e=>Math.floor(Math.random()*e),ze=(e,t)=>{let n;do n=[he(e),he(e)];while(oe(t,n));return n},et=e=>{const t=Math.floor(e/2);return[t,t]},[P,be]=C(y.IDLE),[K,Ee]=C([]),tt=()=>K().at(-1),[le,nt]=C([0,0]),Ne=()=>{nt(e=>ze(D(),[...K(),e]))},[$e,st]=C(w.RIGHT),it=()=>{const e=Qe(tt(),$e()),t=Ze(D(),e),n=oe(K(),e);if(t||n)return y.LOOSE;const s=re(e,le());return Ee(i=>(s||i.shift(),i.push(e),[...i])),s&&Ne(),y.PLAYING},rt=()=>{Pe(()=>{be(y.PLAYING),Ee([et(D())]),Ne()})},ot=()=>{rt();const e=setInterval(()=>{const t=it();be(t),t!==y.PLAYING&&clearInterval(e)},Je())},lt=e=>{st(t=>Xe(t,e))},ut=k('<code><pre style="color: white"></pre></code>'),ct=()=>(()=>{const e=ut.cloneNode(!0),t=e.firstChild;return v(t,()=>JSON.stringify({gameStatus:P(),snake:K(),food:le(),direction:$e(),gameFieldSize:D()},null,2)),e})(),ft="_field_11rdu_1",dt="_row_11rdu_9",at="_cell_11rdu_13",ee={field:ft,row:dt,cell:at},ht=k("<div><p>Welcome! \u{1F40D}</p><p>Cilck any direction key to start</p><p><strong>WASD</strong> or <strong>HJKL</strong> or <strong>arrow keys</strong></p></div>"),te=k("<div></div>"),gt=k("<div><p>You win! \u{1F389}</p><p>Your score is: <strong></strong></p></div>"),pt=k("<div><p>You loose! \u{1F972}</p><p>Your score is: <strong></strong></p></div>"),wt=()=>ht.cloneNode(!0),yt=()=>{const e=()=>Array.from({length:D()}).map((t,n)=>n);return p(ce,{get each(){return e()},children:t=>(()=>{const n=te.cloneNode(!0);return v(n,p(ce,{get each(){return e()},children:s=>{const i=[s,t],r=()=>re(le(),i),l=()=>oe(K(),i);return(()=>{const o=te.cloneNode(!0);return v(o,()=>r()&&"\u{1F352}",null),v(o,()=>l()&&"\u{1F7E9}",null),L(()=>O(o,ee.cell)),o})()}})),L(()=>O(n,ee.row)),n})()})},Le=()=>K().length-1,mt=()=>(()=>{const e=gt.cloneNode(!0),t=e.firstChild,n=t.nextSibling,s=n.firstChild,i=s.nextSibling;return v(i,Le),e})(),At=()=>(()=>{const e=pt.cloneNode(!0),t=e.firstChild,n=t.nextSibling,s=n.firstChild,i=s.nextSibling;return v(i,Le),e})(),_t=()=>{const e=()=>D()*25,t=()=>`width: ${e()}px; height: ${e()}px`;return(()=>{const n=te.cloneNode(!0);return v(n,p(Re,{get children(){return[p(B,{get when(){return P()===y.IDLE},get children(){return p(wt,{})}}),p(B,{get when(){return P()===y.PLAYING},get children(){return p(yt,{})}}),p(B,{get when(){return P()===y.WIN},get children(){return p(mt,{})}}),p(B,{get when(){return P()===y.LOOSE},get children(){return p(At,{})}})]}})),L(s=>{const i=ee.field,r=t();return i!==s._v$&&O(n,s._v$=i),s._v$2=Ye(n,r,s._v$2),s},{_v$:void 0,_v$2:void 0}),n})()},St=k("<div><header><h1>Snake Game</h1></header><main></main></div>"),vt=e=>{switch(!0){case["KeyW","KeyK","ArrowUp"].includes(e):return w.UP;case["KeyS","KeyJ","ArrowDown"].includes(e):return w.DOWN;case["KeyD","KeyL","ArrowRight"].includes(e):return w.RIGHT;case["KeyA","KeyH","ArrowLeft"].includes(e):return w.LEFT;default:return null}},ne=e=>{const t=vt(e.code);t&&(P()!==y.PLAYING&&ot(),lt(t))};window.addEventListener("keydown",ne);const bt=()=>(window.addEventListener("keydown",ne),pe(()=>{window.removeEventListener("keydown",ne)}),(()=>{const e=St.cloneNode(!0),t=e.firstChild,n=t.nextSibling;return v(n,p(_t,{}),null),v(n,(()=>{const s=Me(()=>!1,!0);return()=>s()&&p(ct,{})})(),null),L(s=>{const i=X.App,r=X.header,l=X.main;return i!==s._v$&&O(e,s._v$=i),r!==s._v$2&&O(t,s._v$2=r),l!==s._v$3&&O(n,s._v$3=l),s},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})());We(()=>p(bt,{}),document.getElementById("root"));
