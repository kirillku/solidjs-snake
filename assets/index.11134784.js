(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const L={},De=(e,t)=>e===t,Fe=Symbol("solid-track"),V={equals:De};let Ge=Se;const P=1,J=2,_e={owned:null,cleanups:null,context:null,owner:null};var g=null;let T=null,a=null,w=null,O=null,oe=0;function j(e,t){const n=a,s=g,o=e.length===0,i=o?_e:{owned:null,cleanups:null,context:null,owner:t||s},l=o?e:()=>e(()=>q(()=>ie(i)));g=i,a=null;try{return K(l,!0)}finally{a=n,g=s}}function k(e,t){t=t?Object.assign({},V,t):V;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=o=>(typeof o=="function"&&(o=o(n.value)),$e(n,o));return[me.bind(n),s]}function x(e,t,n){const s=be(e,t,!1,P);Z(s)}function R(e,t,n){n=n?Object.assign({},V,n):V;const s=be(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Z(s),me.bind(s)}function Ue(e){return K(e,!1)}function q(e){let t,n=a;return a=null,t=e(),a=n,t}function ve(e){return g===null||(g.cleanups===null?g.cleanups=[e]:g.cleanups.push(e)),e}function Re(e){const t=R(e),n=R(()=>z(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function me(){const e=T;if(this.sources&&(this.state||e))if(this.state===P||e)Z(this);else{const t=w;w=null,K(()=>X(this),!1),w=t}if(a){const t=this.observers?this.observers.length:0;a.sources?(a.sources.push(this),a.sourceSlots.push(t)):(a.sources=[this],a.sourceSlots=[t]),this.observers?(this.observers.push(a),this.observerSlots.push(a.sources.length-1)):(this.observers=[a],this.observerSlots=[a.sources.length-1])}return this.value}function $e(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&K(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],l=T&&T.running;l&&T.disposed.has(i),(l&&!i.tState||!l&&!i.state)&&(i.pure?w.push(i):O.push(i),i.observers&&Ee(i)),l||(i.state=P)}if(w.length>1e6)throw w=[],new Error},!1)),t}function Z(e){if(!e.fn)return;ie(e);const t=g,n=a,s=oe;a=g=e,Ke(e,e.value,s),a=n,g=t}function Ke(e,t,n){let s;try{s=e.fn(t)}catch(o){e.pure&&(e.state=P),Ne(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?$e(e,s):e.value=s,e.updatedAt=n)}function be(e,t,n,s=P,o){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:null,pure:n};return g===null||g!==_e&&(g.owned?g.owned.push(i):g.owned=[i]),i}function Ae(e){const t=T;if(e.state===0||t)return;if(e.state===J||t)return X(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<oe);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===P||t)Z(e);else if(e.state===J||t){const o=w;w=null,K(()=>X(e,n[0]),!1),w=o}}function K(e,t){if(w)return e();let n=!1;t||(w=[]),O?n=!0:O=[],oe++;try{const s=e();return Me(n),s}catch(s){w||(O=null),Ne(s)}}function Me(e){if(w&&(Se(w),w=null),e)return;const t=O;O=null,t.length&&K(()=>Ge(t),!1)}function Se(e){for(let t=0;t<e.length;t++)Ae(e[t])}function X(e,t){const n=T;e.state=0;for(let s=0;s<e.sources.length;s+=1){const o=e.sources[s];o.sources&&(o.state===P||n?o!==t&&Ae(o):(o.state===J||n)&&X(o,t))}}function Ee(e){const t=T;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=J,s.pure?w.push(s):O.push(s),s.observers&&Ee(s))}}function ie(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),l=n.observerSlots.pop();s<o.length&&(i.sourceSlots[l]=s,o[s]=i,n.observerSlots[s]=l)}}if(e.owned){for(t=0;t<e.owned.length;t++)ie(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function We(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Ne(e){throw e=We(e),e}function z(e){if(typeof e=="function"&&!e.length)return z(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=z(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}const Ye=Symbol("fallback");function ue(e){for(let t=0;t<e.length;t++)e[t]()}function qe(e,t,n={}){let s=[],o=[],i=[],l=0,r=t.length>1?[]:null;return ve(()=>ue(i)),()=>{let u=e()||[],f,c;return u[Fe],q(()=>{let d=u.length,_,$,N,I,B,b,A,E,F;if(d===0)l!==0&&(ue(i),i=[],s=[],o=[],l=0,r&&(r=[])),n.fallback&&(s=[Ye],o[0]=j(ke=>(i[0]=ke,n.fallback())),l=1);else if(l===0){for(o=new Array(d),c=0;c<d;c++)s[c]=u[c],o[c]=j(y);l=d}else{for(N=new Array(d),I=new Array(d),r&&(B=new Array(d)),b=0,A=Math.min(l,d);b<A&&s[b]===u[b];b++);for(A=l-1,E=d-1;A>=b&&E>=b&&s[A]===u[E];A--,E--)N[E]=o[A],I[E]=i[A],r&&(B[E]=r[A]);for(_=new Map,$=new Array(E+1),c=E;c>=b;c--)F=u[c],f=_.get(F),$[c]=f===void 0?-1:f,_.set(F,c);for(f=b;f<=A;f++)F=s[f],c=_.get(F),c!==void 0&&c!==-1?(N[c]=o[f],I[c]=i[f],r&&(B[c]=r[f]),c=$[c],_.set(F,c)):i[f]();for(c=b;c<d;c++)c in N?(o[c]=N[c],i[c]=I[c],r&&(r[c]=B[c],r[c](c))):o[c]=j(y);o=o.slice(0,l=d),s=u.slice(0)}return o});function y(d){if(i[c]=d,r){const[_,$]=k(c);return r[c]=$,t(u[c],_)}return t(u[c])}}}function p(e,t){return q(()=>e(t||{}))}function fe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return R(qe(()=>e.each,e.children,t||void 0))}function Be(e){let t=!1,n=!1;const s=Re(()=>e.children),o=R(()=>{let i=s();Array.isArray(i)||(i=[i]);for(let l=0;l<i.length;l++){const r=i[l].when;if(r)return n=!!i[l].keyed,[l,r,i[l]]}return[-1]},void 0,{equals:(i,l)=>i[0]===l[0]&&(t?i[1]===l[1]:!i[1]==!l[1])&&i[2]===l[2]});return R(()=>{const[i,l,r]=o();if(i<0)return e.fallback;const u=r.children,f=typeof u=="function"&&u.length>0;return t=n||f,f?q(()=>u(l)):u})}function H(e){return e}function Ce(e,t){return R(e,void 0,t?void 0:{equals:t})}function He(e,t,n){let s=n.length,o=t.length,i=s,l=0,r=0,u=t[o-1].nextSibling,f=null;for(;l<o||r<i;){if(t[l]===n[r]){l++,r++;continue}for(;t[o-1]===n[i-1];)o--,i--;if(o===l){const c=i<s?r?n[r-1].nextSibling:n[i-r]:u;for(;r<i;)e.insertBefore(n[r++],c)}else if(i===r)for(;l<o;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[i-1]&&n[r]===t[o-1]){const c=t[--o].nextSibling;e.insertBefore(n[r++],t[l++].nextSibling),e.insertBefore(n[--i],c),t[o]=n[i]}else{if(!f){f=new Map;let y=r;for(;y<i;)f.set(n[y],y++)}const c=f.get(t[l]);if(c!=null)if(r<c&&c<i){let y=l,d=1,_;for(;++y<o&&y<i&&!((_=f.get(t[y]))==null||_!==c+d);)d++;if(d>c-r){const $=t[l];for(;r<c;)e.insertBefore(n[r++],$)}else e.replaceChild(n[r++],t[l++])}else l++;else t[l++].remove()}}}const de="_$DX_DELEGATE";function je(e,t,n){let s;return j(o=>{s=o,t===document?e():S(t,e(),t.firstChild?null:void 0,n)}),()=>{s(),t.textContent=""}}function D(e,t,n){const s=document.createElement("template");s.innerHTML=e;let o=s.content.firstChild;return n&&(o=o.firstChild),o}function Ve(e,t=window.document){const n=t[de]||(t[de]=new Set);for(let s=0,o=e.length;s<o;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,Je))}}function v(e,t){t==null?e.removeAttribute("class"):e.className=t}function Le(e,t,n={}){const s=e.style,o=typeof n=="string";if(t==null&&o||typeof t=="string")return s.cssText=t;o&&(s.cssText=void 0,n={}),t||(t={});let i,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)i=t[l],i!==n[l]&&(s.setProperty(l,i),n[l]=i);return n}function S(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Q(e,t,s,n);x(o=>Q(e,t(),o,n),s)}function Je(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),L.registry&&!L.done&&(L.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>s.remove()));n!==null;){const s=n[t];if(s&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?s.call(n,o,e):s.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Q(e,t,n,s,o){for(L.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(L.context)return n;if(i==="number"&&(t=t.toString()),l){let r=n[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),n=G(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean"){if(L.context)return n;n=G(e,n,s)}else{if(i==="function")return x(()=>{let r=t();for(;typeof r=="function";)r=r();n=Q(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],u=n&&Array.isArray(n);if(ee(r,t,n,o))return x(()=>n=Q(e,r,n,s,!0)),()=>n;if(L.context){if(!r.length)return n;for(let f=0;f<r.length;f++)if(r[f].parentNode)return n=r}if(r.length===0){if(n=G(e,n,s),l)return n}else u?n.length===0?ae(e,r,s):He(e,n,r):(n&&G(e),ae(e,r));n=r}else if(t instanceof Node){if(L.context&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=G(e,n,s,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ee(e,t,n,s){let o=!1;for(let i=0,l=t.length;i<l;i++){let r=t[i],u=n&&n[i];if(r instanceof Node)e.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))o=ee(e,r,u)||o;else if(typeof r=="function")if(s){for(;typeof r=="function";)r=r();o=ee(e,Array.isArray(r)?r:[r],u)||o}else e.push(r),o=!0;else{const f=String(r);u&&u.nodeType===3&&u.data===f?e.push(u):e.push(document.createTextNode(f))}}return o}function ae(e,t,n){for(let s=0,o=t.length;s<o;s++)e.insertBefore(t[s],n)}function G(e,t,n,s){if(n===void 0)return e.textContent="";const o=s||document.createTextNode("");if(t.length){let i=!1;for(let l=t.length-1;l>=0;l--){const r=t[l];if(o!==r){const u=r.parentNode===e;!i&&!l?u?e.replaceChild(o,r):e.insertBefore(o,n):u&&r.remove()}else i=!0}}else e.insertBefore(o,n);return[o]}const Xe="_header_sr5m0_1",Qe="_main_sr5m0_5",he={header:Xe,main:Qe},Ze=10,[M,kt]=k(Ze),ze=120,[et,Dt]=k(ze);var h=(e=>(e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e))(h||{}),m=(e=>(e.IDLE="idle",e.PLAYING="playing",e.LOOSE="loose",e.WIN="win",e))(m||{});const tt=([e,t],n)=>{switch(n){case h.UP:return[e,t-1];case h.DOWN:return[e,t+1];case h.RIGHT:return[e+1,t];case h.LEFT:return[e-1,t]}},ge=[h.UP,h.DOWN],we=[h.RIGHT,h.LEFT],nt=(e,t)=>we.includes(e)&&we.includes(t)||ge.includes(e)&&ge.includes(t)?e:t,re=([e,t],[n,s])=>e===n&&t===s,le=(e,t)=>e.some(n=>re(n,t)),st=(e,[t,n])=>t>=e||t<0||n>=e||n<0,pe=e=>Math.floor(Math.random()*e),ot=(e,t)=>{let n;do n=[pe(e),pe(e)];while(le(t,n));return n},it=e=>{const t=Math.floor(e/2);return[t,t]},[U,xe]=k(m.IDLE),[W,Ie]=k([]),rt=()=>W().at(-1),[ce,lt]=k([0,0]),Te=()=>{lt(e=>ot(M(),[...W(),e]))},[Oe,ct]=k(h.RIGHT),ut=()=>{const e=tt(rt(),Oe()),t=st(M(),e),n=le(W(),e);if(t||n)return m.LOOSE;const s=re(e,ce());return Ie(o=>(s||o.shift(),o.push(e),[...o])),s&&Te(),m.PLAYING},ft=()=>{Ue(()=>{xe(m.PLAYING),Ie([it(M())]),Te()})},dt=()=>{ft();const e=setInterval(()=>{const t=ut();xe(t),t!==m.PLAYING&&clearInterval(e)},et())},Y=e=>{U()!==m.PLAYING&&dt(),ct(t=>nt(t,e))},at=D("<code><pre></pre></code>"),ht=()=>(()=>{const e=at.cloneNode(!0),t=e.firstChild;return S(t,()=>JSON.stringify({gameStatus:U(),snake:W(),food:ce(),direction:Oe(),gameFieldSize:M()},null,2)),e})(),gt="_controls_1mhu2_1",wt="_row_1mhu2_9",pt="_button_1mhu2_16",C={controls:gt,row:wt,button:pt},yt=D("<div><div><button>\u2191</button></div><div><button>\u2190</button><button>\u2192</button></div><div><button>\u2193</button></div></div>"),_t=()=>(()=>{const e=yt.cloneNode(!0),t=e.firstChild,n=t.firstChild,s=t.nextSibling,o=s.firstChild,i=o.nextSibling,l=s.nextSibling,r=l.firstChild;return n.$$click=()=>Y(h.UP),o.$$click=()=>Y(h.LEFT),i.$$click=()=>Y(h.RIGHT),r.$$click=()=>Y(h.DOWN),x(u=>{const f=C.controls,c=C.row,y=C.button,d=C.row,_=C.button,$=C.button,N=C.row,I=C.button;return f!==u._v$&&v(e,u._v$=f),c!==u._v$2&&v(t,u._v$2=c),y!==u._v$3&&v(n,u._v$3=y),d!==u._v$4&&v(s,u._v$4=d),_!==u._v$5&&v(o,u._v$5=_),$!==u._v$6&&v(i,u._v$6=$),N!==u._v$7&&v(l,u._v$7=N),I!==u._v$8&&v(r,u._v$8=I),u},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),e})();Ve(["click"]);const vt="_field_1qmog_1",mt="_row_1qmog_9",$t="_cell_1qmog_13",te={field:vt,row:mt,cell:$t},bt=D("<div><h2>Welcome! \u{1F40D}</h2><p>Cilck any direction key to start</p><p><strong>WASD</strong> or <strong>HJKL</strong> or <strong>arrow keys</strong></p></div>"),ne=D("<div></div>"),At=D("<div><h2>YOU WIN! \u{1F389}</h2><p>Your score is: <strong></strong></p><p>Cilck any direction key to start again</p></div>"),St=D("<div><h2>YOU LOSE! \u{1F972}</h2><p>Your score is: <strong></strong></p><p>Cilck any direction key to start again</p></div>"),Et=()=>bt.cloneNode(!0),ye=["\u{1F352}","\u{1F353}","\u{1F351}","\u{1F354}","\u{1F370}","\u{1F413}","\u{1F400}","\u{1F347}","\u{1F357}","\u{1F355}","\u{1F345}"],Nt=([e,t])=>ye[(e+1)*(t+1)%ye.length],Ct=()=>{const e=()=>Array.from({length:M()}).map((t,n)=>n);return p(fe,{get each(){return e()},children:t=>(()=>{const n=ne.cloneNode(!0);return S(n,p(fe,{get each(){return e()},children:s=>{const o=[s,t],i=()=>re(ce(),o),l=()=>le(W(),o);return(()=>{const r=ne.cloneNode(!0);return S(r,(()=>{const u=Ce(()=>!!i(),!0);return()=>u()&&Nt(o)})()),x(u=>{const f=te.cell,c=l()?"background: #cbdf9b":void 0;return f!==u._v$&&v(r,u._v$=f),u._v$2=Le(r,c,u._v$2),u},{_v$:void 0,_v$2:void 0}),r})()}})),x(()=>v(n,te.row)),n})()})},Pe=()=>W().length-1,Lt=()=>(()=>{const e=At.cloneNode(!0),t=e.firstChild,n=t.nextSibling,s=n.firstChild,o=s.nextSibling;return S(o,Pe),e})(),xt=()=>(()=>{const e=St.cloneNode(!0),t=e.firstChild,n=t.nextSibling,s=n.firstChild,o=s.nextSibling;return S(o,Pe),e})(),It=()=>{const e=()=>M()*30,t=()=>`width: ${e()}px; height: ${e()}px`;return(()=>{const n=ne.cloneNode(!0);return S(n,p(Be,{get children(){return[p(H,{get when(){return U()===m.IDLE},get children(){return p(Et,{})}}),p(H,{get when(){return U()===m.PLAYING},get children(){return p(Ct,{})}}),p(H,{get when(){return U()===m.WIN},get children(){return p(Lt,{})}}),p(H,{get when(){return U()===m.LOOSE},get children(){return p(xt,{})}})]}})),x(s=>{const o=te.field,i=t();return o!==s._v$3&&v(n,s._v$3=o),s._v$4=Le(n,i,s._v$4),s},{_v$3:void 0,_v$4:void 0}),n})()},Tt=D("<div><header><h1>Snake Game</h1></header><main></main></div>"),Ot=e=>{switch(!0){case["KeyW","KeyK","ArrowUp"].includes(e):return h.UP;case["KeyS","KeyJ","ArrowDown"].includes(e):return h.DOWN;case["KeyD","KeyL","ArrowRight"].includes(e):return h.RIGHT;case["KeyA","KeyH","ArrowLeft"].includes(e):return h.LEFT;default:return null}},se=e=>{const t=Ot(e.code);t&&(e.preventDefault(),Y(t))};window.addEventListener("keydown",se);const Pt=()=>(window.addEventListener("keydown",se),ve(()=>{window.removeEventListener("keydown",se)}),(()=>{const e=Tt.cloneNode(!0),t=e.firstChild,n=t.nextSibling;return S(n,p(It,{}),null),S(n,p(_t,{}),null),S(n,(()=>{const s=Ce(()=>!1,!0);return()=>s()&&p(ht,{})})(),null),x(s=>{const o=he.header,i=he.main;return o!==s._v$&&v(t,s._v$=o),i!==s._v$2&&v(n,s._v$2=i),s},{_v$:void 0,_v$2:void 0}),e})());je(()=>p(Pt,{}),document.getElementById("root"));
